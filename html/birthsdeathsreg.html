<!DOCTYPE html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <!-- Tell the browser to be responsive to screen width -->
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <!-- Favicon icon -->
        <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon.png" />
        <title>
            Births &amp; Deaths Registration | Essential Services Dashboard
        </title>
        <!-- Custom CSS -->
        <link rel="stylesheet" type="text/css" href="../assets/extra-libs/multicheck/multicheck.css" />
        <link href="../assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.css" rel="stylesheet" />
        <link href="../assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.1/css/all.min.css" />
        <link href="../dist/css/style.min.css" rel="stylesheet" />
        <link href="../dist/css/custom.css" rel="stylesheet" />
        <link href="../assets/extra-libs/DataTables/DataTables-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
        <link href="../dist/css/datatables/buttons.dataTables.min.css" rel="stylesheet" />
        <link href="../dist/css/datatables/jquery.dataTables.min.css" rel="stylesheet" />
        <link href="../assets/extra-libs/monthpicker/MonthPicker.css" rel="stylesheet" />
        <link href="../assets/extra-libs/monthpicker/jquery-ui.css" rel="stylesheet" />

        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highcharts/8.1.1/css/highcharts.min.css">
        
    </head>

    <body onload="renderAll()">
        <div class="preloader">
            <div class="lds-ripple">
                <div class="lds-pos"></div>
                <div class="lds-pos"></div>
            </div>
        </div>
        <div id="main-wrapper">
            <header class="topbar" data-navbarbg="skin5" id="header_target"></header>
            <aside class="left-sidebar" data-sidebarbg="skin5">
                <div class="scroll-sidebar">
                    <nav class="sidebar-nav" id="nav_target"></nav>
                </div>
            </aside>
            <div class="page-wrapper">
                <div class="page-breadcrumb">
                    <div class="row">
                        <div class="col-12 d-flex no-block align-items-center" id="filter_target">
                            <!-- <small class="text-bold">Filter:</small> -->
                                <!-- <div class="col-md-12 col-sm-12 col-xs-12">
                                </div> -->
                        </div>
                    </div>
                </div>
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12 p-0" id="status_target"> </div>
                        <div class="col-md-12 p-0" id="loading_target"> </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Trend of the number of registered births 2019-2020</h4>
                                    <div class="graph" id="no_reg_births_19_20">
                                        <p class="card-text">Line graph with 2 lines for each year (2019, 2020), monthly disaggregation (Jan - May for each year), National (Kenya)...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Monthly changes in birth registration (%)</h4>
                                    <div class="graph" id="changes_birth_reg_trend">
                                        <p class="card-text">Line graph from Jan - May 2020, monthly disaggregation, National (Kenya)...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Trend of the number of registered deaths 2019-2020</h4>
                                    <div class="graph" id="no_reg_deaths_19_20">
                                        <p class="card-text">Line graph with 2 lines for each year (2019, 2020), monthly disaggregation (Jan - May for each year), National (Kenya)...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Monthly changes in birth registration (%)</h4>
                                    <div class="table-container" id="changes_death_reg">
                                        <p class="card-text">Table showing above data...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Monthly changes in death registration (%)</h4>
                                    <div class="graph" id="changes_death_reg">
                                        <p class="card-text">Line graph from Jan - May 2020, monthly disaggregation, National (Kenya)...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="footer_target" class="p-0 m-0 w-100"></div>
        
        <script src="../assets/libs/jquery/dist/jquery.min.js"></script>
        <script src="../assets/libs/popper.js/dist/umd/popper.min.js"></script>
        <script src="../assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="../assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
        <script src="../dist/js/sidebarmenu.js"></script>
        <script src="../dist/js/custom.js"></script>
        <script src="../assets/extra-libs/multicheck/datatable-checkbox-init.js"></script>
        <script src="../assets/extra-libs/multicheck/jquery.multicheck.js"></script>
        <script src="../assets/extra-libs/DataTables/datatables.min.js"></script>
        <script src="../assets/extra-libs/DataTables/dataTables.buttons.min.js"></script>
        <script src="../assets/extra-libs/DataTables/buttons.flash.min.js"></script>
        <script src="../assets/extra-libs/jszip/jszip.min.js"></script>
        <script src="../assets/extra-libs/pdfmake/pdfmake.min.js"></script>
        <script src="../assets/extra-libs/pdfmake/vfs_fonts.js"></script>
        <script src="../assets/extra-libs/DataTables/buttons.html5.min.js"></script>
        <script src="../assets/extra-libs/DataTables/buttons.print.min.js"></script>

        <!-- *********** <MonthPicker ************** -->
        <script src="../assets/extra-libs/monthpicker/jquery-migrate-3.0.1.min.js"></script>
        <script src="../assets/extra-libs/monthpicker/jquery.maskedinput.min.js"></script>
        <script src="../assets/extra-libs/monthpicker/jquery-ui.min.js"></script>
        <script src="../assets/extra-libs/monthpicker/MonthPicker.js"></script>
        <!-- *********** MonthPicker/> ************** -->

        <!-- *********** <WeekPicker ************** -->
        <script src="https://cdn.jsdelivr.net/npm/moment@2.26.0/moment.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/pikaday/pikaday.js"></script>
        <script src="../dist/js/weekpicker.js"></script>
        <!-- *********** WeekPicker/> ************** -->
        
        <!-- *********** <Highcharts ************** -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/8.1.1/es-modules/highcharts.src.min.js"></script>
        <!-- *********** Highcharts/> ************** -->




        <!-- TEMPLATING -->
        <script src="../dist/js/templates/mustache.js"></script>

            <!-- templates -->
            <!-- <script id="header_template" type="x-tmpl-mustache">
                //html here
            </script> -->
            <script src="../dist/js/templates/components/footer.js"></script>
            <script src="../dist/js/templates/components/header.js"></script>
            <script src="../dist/js/templates/components/nav.js"></script>
            <script src="../dist/js/templates/components/filter.js"></script>
            <script src="../dist/js/templates/components/loading.js"></script>
            <script src="../dist/js/templates/components/status.js"></script>
            <!-- templates -->

            <!-- renders -->
            <script src="../dist/js/templates/renders.js"></script>
            <!-- renders -->

            <!-- render Fn -->
            <script>
                function renderAll() {
                    let page_title = {title: 'Births & Deaths Registration'}
                    let page_filters = {
                        is_county:false, 
                        is_subcounty:false, 
                        is_ward:false, 
                        is_facility:false, 
                        is_period:false, 
                        is_period_range:false}
                    let is_loading = {is_loading: false}
                    let footer_yr = { yr: new Date().getFullYear()}
                    let page_status = {title: '', message: '', type: 'info', hidden: true} //type: info, success, danger

                    renderNav()
                    renderHeader(page_title)
                    renderFooter(footer_yr)
                    renderLoader(is_loading)
                    renderFilter(page_filters)
                    renderStatus(page_status)
                }
            </script>
            <!-- render Fn -->
        <!-- TEMPLATING -->





        <!-- ++++++++++++++++++++++++ PAGE DATA LOGIC ++++++++++++++++++++++++ -->
        <script>
<<<<<<< HEAD
             $.getJSON("../assets/json/essential/no.of_registered_births.json", function (data, textStatus, jqXHR) {
                
                /* *********Number of registered births 2019-2020******** */
             
                let x_array
                let y_data = []
=======
            $.getJSON("../assets/json/bdregs/no_of_registered_births.json", function (data, textStatus, jqXHR) {
                /* *********Trend of the number of registered births 2019-2020 by year table******** */
                $("#no_reg_births_19_20_table").html('<table class="table table-condensed slimtable"><thead><tr></tr></thead><tbody></tbody></table>')
                let target_head = $("#no_reg_births_19_20_table table thead")
                let target = $("#no_reg_births_19_20_table table tbody")
                let theads = data.shift(); let t_head = '<tr>'; theads.map(th=>{t_head += '<th>'+th+'</td>'}); t_head+='</tr>'; target_head.html(t_head)
                let t_able = ''; data.map(td=>{t_able += '<tr>'; td.map(_d=>{t_able += '<td>'+_d+'</td>'}); t_able += '</tr>' }); target.html(t_able)
                /* *********Trend of the number of registered births 2019-2020 by year table******** */
                
                /* *********Trend of the number of registered births 2019-2020 by year******** */
                let x_array2
                let y_data2 = []
>>>>>>> 49f55f2aa859ce76139d14edd2d9ac08ceb4fb4a
                let target3 = document.getElementById("no_reg_births_19_20")
                let twenty_19 = data.filter(dt=>dt[0].includes(2019));
                let twenty_20 = data.filter(dt=>dt[0].includes(2020));
                let m_onths = Array.from(twenty_20, x=>x[0].replace(" 2020","")).splice(0,6); x_array2 = m_onths
                let data_19 = {}; data_19.name = "2019"; data_19.data = [];
                let data_20 = {}; data_20.name = "2020"; data_20.data = [];
                m_onths.map(mo=>{
                    twenty_19.map(t9=>{ if(t9[0].includes(mo)){ data_19.data.push(t9[1]) } })
                    twenty_20.map(t2=>{ if(t2[0].includes(mo)){ data_20.data.push(t2[1]) } })
                })
<<<<<<< HEAD
                y_data.push(data_19)
                y_data.push(data_20)
                plotGraph(m_onths, "Period", y_data, "Registered Births", "Trend in number of registered births", "January 2019 - June 2020", target3, "line", null)
                /* *********Number of registered births 2019-2020******** */
            });
            $.getJSON("../assets/json/essential/no.of_registered_deaths.json", function (data, textStatus, jqXHR) {
                
                /* *********Number of registered deaths 2019-2020******** */
             
                let x_array1
                let y_data1 = []
=======
                y_data2.push(data_19)
                y_data2.push(data_20)
                plotGraph(m_onths, "Period", y_data2, "Number (#)", "Trend of the number of registered births 2019-2020", "Jan 2019 - June 2020", target3, "line", null)
                /* *********Trend of the number of registered births 2019-2020 by year******** */
            });





            $.getJSON("../assets/json/bdregs/no_of_registered_deaths.json", function (data, textStatus, jqXHR) {
                /* *********Trend of the number of registered deaths 2019-2020 by year table******** */
                $("#no_reg_deaths_19_20_table").html('<table class="table table-condensed slimtable"><thead><tr></tr></thead><tbody></tbody></table>')
                let target_head = $("#no_reg_deaths_19_20_table table thead")
                let target = $("#no_reg_deaths_19_20_table table tbody")
                let theads = data.shift(); let t_head = '<tr>'; theads.map(th=>{t_head += '<th>'+th+'</td>'}); t_head+='</tr>'; target_head.html(t_head)
                let t_able = ''; data.map(td=>{t_able += '<tr>'; td.map(_d=>{t_able += '<td>'+_d+'</td>'}); t_able += '</tr>' }); target.html(t_able)
                /* *********Trend of the number of registered deaths 2019-2020 by year table******** */
                
                /* *********Trend of the number of registered births 2019-2020 by year******** */
                let x_array2
                let y_data2 = []
>>>>>>> 49f55f2aa859ce76139d14edd2d9ac08ceb4fb4a
                let target3 = document.getElementById("no_reg_deaths_19_20")
                let twenty_19 = data.filter(dt=>dt[0].includes(2019));
                let twenty_20 = data.filter(dt=>dt[0].includes(2020));
                let m_onths = Array.from(twenty_20, x=>x[0].replace(" 2020","")).splice(0,6); x_array2 = m_onths
                let data_19 = {}; data_19.name = "2019"; data_19.data = [];
                let data_20 = {}; data_20.name = "2020"; data_20.data = [];
                m_onths.map(mo=>{
                    twenty_19.map(t9=>{ if(t9[0].includes(mo)){ data_19.data.push(t9[1]) } })
                    twenty_20.map(t2=>{ if(t2[0].includes(mo)){ data_20.data.push(t2[1]) } })
                })
<<<<<<< HEAD
                y_data1.push(data_19)
                y_data1.push(data_20)
                plotGraph(m_onths, "Period", y_data1, "Registered Deaths", "Trend in number of registered deaths", "January 2019 - June 2020", target3, "line", null)
                /* *********Number of registered deaths 2019-2020******** */
            });
            $.getJSON("../assets/json/essential/Monthly_change_birthregistration.json", function (data, textStatus, jqXHR) {
                
                /* *********Monthly changes birth registration******** */
                let x_array = []
                let y_data = []
                y_data[0] = {}
                y_data[0].name = "Monthly changes in birth registration"
                y_data[0].data = []
                let target2 = document.getElementById("changes_birth_reg")
                data.map(dt=>{
                    x_array.push(dt[0]);
                    y_data[0].data.push(dt[1])
                })
                console.log(y_data)
                plotGraph(x_array, "Period", y_data, "% percentage", "Monthly changes in birth registration", "January-June 2020", target2, "line", null)
                /* *********Monthly changes in birth registration******** */
            });
            $.getJSON("../assets/json/essential/monthly_change_in_deathregistration.json", function (data, textStatus, jqXHR) {
                
                /* *********Monthly changes birth registration******** */
                let x_array = []
                let y_data = []
                y_data[0] = {}
                y_data[0].name = "Monthly changes in death registration"
                y_data[0].data = []
                let target2 = document.getElementById("changes_death_reg")
                data.map(dt=>{
                    x_array.push(dt[0]);
                    y_data[0].data.push(dt[1])
                })
                console.log(y_data)
                plotGraph(x_array, "Period", y_data, "% percentage", "Monthly changes in death registration", "January-June 2020", target2, "line", null)
                /* *********Monthly changes in birth registration******** */
            });
=======
                y_data2.push(data_19)
                y_data2.push(data_20)
                plotGraph(m_onths, "Period", y_data2, "Number (#)", "Trend of the number of registered deaths 2019-2020", "Jan 2019 - June 2020", target3, "line", null)
                /* *********Trend of the number of registered deaths 2019-2020 by year******** */
            });





            $.getJSON("../assets/json/bdregs/monthly_change_birthregistration.json", function (data, textStatus, jqXHR) {
                /* *********Monthly changes in birth registration (%)******** */
                let x_array_l = []
                let y_data_l = []
                y_data_l[0] = {}
                y_data_l[0].name = "Monthly changes in birth registration (%)"
                y_data_l[0].data = []
                let target8 = document.getElementById("changes_birth_reg_trend")
                let t_itles = data.shift()
                data.map(dt=>{
                    x_array_l.push(dt[0]);
                    y_data_l[0].data.push(dt[1])
                })
                plotGraph(x_array_l, "Period", y_data_l, "% Difference", "Monthly changes in birth registration (%)", null, target8, "line", null)
                /* *********Monthly changes in birth registration (%)******** */
            });




>>>>>>> 49f55f2aa859ce76139d14edd2d9ac08ceb4fb4a

            $.getJSON("../assets/json/bdregs/monthly_change_in_deathregistration.json", function (data, textStatus, jqXHR) {
                /* *********Monthly changes in death registration (%)******** */
                let x_array_d = []
                let y_data_d = []
                y_data_d[0] = {}
                y_data_d[0].name = "Monthly changes in deaths registration (%)"
                y_data_d[0].data = []
                let target7 = document.getElementById("changes_death_reg")
                let t_itles = data.shift()
                data.map(dt=>{
                    x_array_d.push(dt[0]);
                    y_data_d[0].data.push(dt[1])
                })
                plotGraph(x_array_d, "Period", y_data_d, "% Difference", "Monthly changes in death registration (%)", null, target7, "line", null)
                /* *********Monthly changes in death registration (%)******** */
            });
        </script>
        <!-- ------------------------ PAGE DATA LOGIC ------------------------ -->
        <script src="../dist/js/_utils.js"></script>
    </body>
</html>
